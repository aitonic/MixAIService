{"@timestamp" : "2025-01-09T11:11:36.425590+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-09 11:11:36,424","service": "common-log", "filename": "create_app.py", "line": "93", "levelname": "INFO", "message": "开始创建服务======="}
{"@timestamp" : "2025-01-09T11:11:36.434181+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-09 11:11:36,433","service": "common-log", "filename": "create_app.py", "line": "123", "levelname": "INFO", "message": "注册的url列表：[Route(path='/openapi.json', name='openapi', methods=['GET', 'HEAD']), Route(path='/docs', name='swagger_ui_html', methods=['GET', 'HEAD']), Route(path='/docs/oauth2-redirect', name='swagger_ui_redirect', methods=['GET', 'HEAD']), Route(path='/redoc', name='redoc_html', methods=['GET', 'HEAD']), APIRoute(path='/simple-ai/run', name='run_app_with_config', methods=['POST']), APIRoute(path='/simple-ai/test', name='test', methods=['POST'])]"}
{"@timestamp" : "2025-01-09T11:11:36.434284+08:00", "threadName":"MainThread", "funcName":"<module>", "asctime": "2025-01-09 11:11:36,434","service": "common-log", "filename": "main.py", "line": "41", "levelname": "INFO", "message": "开始启动服务======"}
{"@timestamp" : "2025-01-09T15:48:35.895921+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-09 15:48:35,895","service": "common-log", "filename": "create_app.py", "line": "93", "levelname": "INFO", "message": "开始创建服务======="}
{"@timestamp" : "2025-01-09T15:48:35.904923+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-09 15:48:35,904","service": "common-log", "filename": "create_app.py", "line": "123", "levelname": "INFO", "message": "注册的url列表：[Route(path='/openapi.json', name='openapi', methods=['GET', 'HEAD']), Route(path='/docs', name='swagger_ui_html', methods=['GET', 'HEAD']), Route(path='/docs/oauth2-redirect', name='swagger_ui_redirect', methods=['GET', 'HEAD']), Route(path='/redoc', name='redoc_html', methods=['GET', 'HEAD']), APIRoute(path='/simple-ai/run', name='run_app_with_config', methods=['POST']), APIRoute(path='/simple-ai/test', name='test', methods=['POST'])]"}
{"@timestamp" : "2025-01-09T15:48:35.905009+08:00", "threadName":"MainThread", "funcName":"<module>", "asctime": "2025-01-09 15:48:35,904","service": "common-log", "filename": "main.py", "line": "41", "levelname": "INFO", "message": "开始启动服务======"}
{"@timestamp" : "2025-01-09T15:48:48.637290+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 15:48:48,636","service": "common-log", "filename": "create_app.py", "line": "35", "levelname": "INFO", "message": "请求头信息:Headers({'user-agent': 'Apifox/1.0.0 (https://apifox.com)', 'content-type': 'application/json', 'accept': '*/*', 'host': '127.0.0.1:8899', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '151'})"}
{"@timestamp" : "2025-01-09T15:48:48.638513+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 15:48:48,638","service": "common-log", "filename": "create_app.py", "line": "50", "levelname": "INFO", "message": "接收到请求：/simple-ai/run, 开始时间：1736408928.635743, 请求体：{'appNo': 'test01', 'data': {'query': '介绍一下潘金莲', 'system_prompt': '你了解所有的中国传统文化。'}}"}
{"@timestamp" : "2025-01-09T15:48:48.661679+08:00", "threadName":"AnyIO worker thread", "funcName":"_get_agent_config", "asctime": "2025-01-09 15:48:48,660","service": "common-log", "filename": "flow_invocation.py", "line": "63", "levelname": "INFO", "message": "test01 的配置信息：{'excute_path': 'messages-OpenAiStyleModel', 'converter': [{'name': 'messages', 'type': 'list', 'value': 'systemprompt,humanprompt'}], 'components': [{'name': 'HumanPrompt', 'param': {'human_message': '{{query}}'}}, {'name': 'SystemPrompt', 'param': {'system_prompt': '你是一个小助手，可以根据要求，执行任何任务。'}}, {'name': 'OpenAiStyleModel', 'param': {'parameter': {'model': 'llama3pro', 'api_key': '123', 'base_url': 'http://192.168.11.11:8070', 'max_retry': 2}}}]}"}
{"@timestamp" : "2025-01-09T15:48:58.577423+08:00", "threadName":"AnyIO worker thread", "funcName":"_send_single_request", "asctime": "2025-01-09 15:48:58,574","service": "common-log", "filename": "_client.py", "line": "1026", "levelname": "INFO", "message": "HTTP Request: POST http://192.168.11.11:8070/v1/chat/completions "HTTP/1.1 200 OK""}
{"@timestamp" : "2025-01-09T15:48:58.579856+08:00", "threadName":"AnyIO worker thread", "funcName":"after_response", "asctime": "2025-01-09 15:48:58,579","service": "common-log", "filename": "base.py", "line": "177", "levelname": "INFO", "message": "Processing response: id='mix-68363a2f-66f0-48bc-b6f4-06c80c471f67' object='chat.completion' created=1736408938 choices=[CompletionsChoice(message=AIMessage(role='assistant', content='潘金莲是中国古典小说《金瓶梅》的虚拟角色，由明朝著名作家关怀所创作。此 شخصیت是四大喜剧之一，也是我国古代关于女子风韵、丈夫冶游、风俗习惯和社会道德的表现。潘金莲生于名门望族，为人淑女，容色艳丽，因丈夫的花柳之事而遭到灭门之祸，死里逃生。潘金莲一案在中國古代被视为宫产女的典型代表，书中她的人物塑造具有高度的文学性格，表现出女性之间的勾心斗角，充满了女性间的韵味。她的形象深受人们的喜爱，成了一代又一代人心中美丽、风韵的典型。如果你有兴趣了解更多关于中国传统文化，请继续问我。'), delta=None, index=0, logprobs=None, finish_reason='stop')] usage={'prompt_tokens': 31, 'completion_tokens': 212, 'total_tokens': 243} model='llama3pro' system_fingerprint='MIX'"}
{"@timestamp" : "2025-01-09T15:48:58.580445+08:00", "threadName":"AnyIO worker thread", "funcName":"success", "asctime": "2025-01-09 15:48:58,580","service": "common-log", "filename": "response.py", "line": "124", "levelname": "INFO", "message": "正常响应信息：潘金莲是中国古典小说《金瓶梅》的虚拟角色，由明朝著名作家关怀所创作。此 شخصیت是四大喜剧之一，也是我国古代关于女子风韵、丈夫冶游、风俗习惯和社会道德的表现。潘金莲生于名门望族，为人淑女，容色艳丽，因丈夫的花柳之事而遭到灭门之祸，死里逃生。潘金莲一案在中國古代被视为宫产女的典型代表，书中她的人物塑造具有高度的文学性格，表现出女性之间的勾心斗角，充满了女性间的韵味。她的形象深受人们的喜爱，成了一代又一代人心中美丽、风韵的典型。如果你有兴趣了解更多关于中国传统文化，请继续问我。"}
{"@timestamp" : "2025-01-09T15:48:58.581593+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 15:48:58,581","service": "common-log", "filename": "create_app.py", "line": "72", "levelname": "INFO", "message": "请求：/simple-ai/run, 结束时间：1736408938.58129, 耗时：9.945547103881836"}
{"@timestamp" : "2025-01-09T15:48:58.581818+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 15:48:58,581","service": "common-log", "filename": "create_app.py", "line": "75", "levelname": "INFO", "message": "[(b'content-length', b'760'), (b'content-type', b'application/json')]"}
{"@timestamp" : "2025-01-09T19:51:28.764614+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-09 19:51:28,763","service": "common-log", "filename": "create_app.py", "line": "93", "levelname": "INFO", "message": "开始创建服务======="}
{"@timestamp" : "2025-01-09T19:51:28.778705+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-09 19:51:28,778","service": "common-log", "filename": "create_app.py", "line": "123", "levelname": "INFO", "message": "注册的url列表：[Route(path='/openapi.json', name='openapi', methods=['GET', 'HEAD']), Route(path='/docs', name='swagger_ui_html', methods=['GET', 'HEAD']), Route(path='/docs/oauth2-redirect', name='swagger_ui_redirect', methods=['GET', 'HEAD']), Route(path='/redoc', name='redoc_html', methods=['GET', 'HEAD']), APIRoute(path='/simple-ai/run', name='run_app_with_config', methods=['POST']), APIRoute(path='/simple-ai/test', name='test', methods=['POST'])]"}
{"@timestamp" : "2025-01-09T19:51:28.778845+08:00", "threadName":"MainThread", "funcName":"<module>", "asctime": "2025-01-09 19:51:28,778","service": "common-log", "filename": "main.py", "line": "41", "levelname": "INFO", "message": "开始启动服务======"}
{"@timestamp" : "2025-01-09T19:51:38.023905+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:51:38,022","service": "common-log", "filename": "create_app.py", "line": "35", "levelname": "INFO", "message": "请求头信息:Headers({'user-agent': 'Apifox/1.0.0 (https://apifox.com)', 'content-type': 'application/json', 'accept': '*/*', 'host': '127.0.0.1:8899', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '151'})"}
{"@timestamp" : "2025-01-09T19:51:38.026968+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:51:38,026","service": "common-log", "filename": "create_app.py", "line": "50", "levelname": "INFO", "message": "接收到请求：/simple-ai/run, 开始时间：1736423498.021734, 请求体：{'appNo': 'test01', 'data': {'query': '介绍一下潘金莲', 'system_prompt': '你了解所有的中国传统文化。'}}"}
{"@timestamp" : "2025-01-09T19:51:38.033849+08:00", "threadName":"AnyIO worker thread", "funcName":"_get_agent_config", "asctime": "2025-01-09 19:51:38,033","service": "common-log", "filename": "flow_invocation.py", "line": "67", "levelname": "INFO", "message": "test01 的配置信息：{'excute_path': 'messages-OpenAiStyleModel', 'converter': [{'name': 'messages', 'type': 'list', 'value': 'systemprompt,humanprompt'}], 'components': [{'name': 'HumanPrompt', 'param': {'human_message': '{{query}}'}}, {'name': 'SystemPrompt', 'param': {'system_prompt': '你是一个小助手，可以根据要求，执行任何任务。'}}, {'name': 'OpenAiStyleModel', 'param': {'parameter': {'model': 'llama3pro', 'api_key': '123', 'base_url': 'http://192.168.11.11:8070', 'max_retry': 2}}}]}"}
{"@timestamp" : "2025-01-09T19:51:47.454211+08:00", "threadName":"AnyIO worker thread", "funcName":"_send_single_request", "asctime": "2025-01-09 19:51:47,452","service": "common-log", "filename": "_client.py", "line": "1026", "levelname": "INFO", "message": "HTTP Request: POST http://192.168.11.11:8070/v1/chat/completions "HTTP/1.1 200 OK""}
{"@timestamp" : "2025-01-09T19:51:47.456059+08:00", "threadName":"AnyIO worker thread", "funcName":"after_response", "asctime": "2025-01-09 19:51:47,455","service": "common-log", "filename": "base.py", "line": "178", "levelname": "INFO", "message": "Processing response: id='mix-50568f47-1d07-44c4-ace7-70e8afd6d0d4' object='chat.completion' created=1736423507 choices=[CompletionsChoice(message=AIMessage(role='assistant', content='潘金莲是中国古典文学作品《金瓶梅》的女主角之一，她是清宁庵的女尼。在小说中，她与她的丈夫小力和邻居的舅哥相互勾搭，卷入了一场风雨楼台。潘金莲性格奸淫，深得“狐媚狐魅”之称。她与书中的其他角色发生了很多纠葛，包括与舅哥、丈夫小力，及唐僧。她的故事深入人們的心灵，是一幕幕生动的寓言性故事。然而，由于她的行为道德上并不正统，她成为了道家理想中“柔软陷阱”的典型。\n\n潘金莲这个角色虽然在中国古典文学中颗颗地位，但因其角色性质，中国官方传媒和教育系统会少提及。'), delta=None, index=0, logprobs=None, finish_reason='stop')] usage={'prompt_tokens': 31, 'completion_tokens': 204, 'total_tokens': 235} model='llama3pro' system_fingerprint='MIX'"}
{"@timestamp" : "2025-01-09T19:51:47.456855+08:00", "threadName":"AnyIO worker thread", "funcName":"success", "asctime": "2025-01-09 19:51:47,456","service": "common-log", "filename": "response.py", "line": "124", "levelname": "INFO", "message": "正常响应信息：潘金莲是中国古典文学作品《金瓶梅》的女主角之一，她是清宁庵的女尼。在小说中，她与她的丈夫小力和邻居的舅哥相互勾搭，卷入了一场风雨楼台。潘金莲性格奸淫，深得“狐媚狐魅”之称。她与书中的其他角色发生了很多纠葛，包括与舅哥、丈夫小力，及唐僧。她的故事深入人們的心灵，是一幕幕生动的寓言性故事。然而，由于她的行为道德上并不正统，她成为了道家理想中“柔软陷阱”的典型。

潘金莲这个角色虽然在中国古典文学中颗颗地位，但因其角色性质，中国官方传媒和教育系统会少提及。"}
{"@timestamp" : "2025-01-09T19:51:47.458845+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:51:47,458","service": "common-log", "filename": "create_app.py", "line": "72", "levelname": "INFO", "message": "请求：/simple-ai/run, 结束时间：1736423507.4581099, 耗时：9.436375856399536"}
{"@timestamp" : "2025-01-09T19:51:47.459390+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:51:47,459","service": "common-log", "filename": "create_app.py", "line": "75", "levelname": "INFO", "message": "[(b'content-length', b'726'), (b'content-type', b'application/json')]"}
{"@timestamp" : "2025-01-09T19:53:24.210712+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:53:24,208","service": "common-log", "filename": "create_app.py", "line": "35", "levelname": "INFO", "message": "请求头信息:Headers({'user-agent': 'Apifox/1.0.0 (https://apifox.com)', 'content-type': 'application/json', 'accept': '*/*', 'host': '127.0.0.1:8899', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '160'})"}
{"@timestamp" : "2025-01-09T19:53:24.212421+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:53:24,211","service": "common-log", "filename": "create_app.py", "line": "50", "levelname": "INFO", "message": "接收到请求：/simple-ai/run, 开始时间：1736423604.207676, 请求体：{'appNo': 'add_text_vector', 'data': {'query': '介绍一下潘金莲', 'system_prompt': '你了解所有的中国传统文化。'}}"}
{"@timestamp" : "2025-01-09T19:53:24.222474+08:00", "threadName":"AnyIO worker thread", "funcName":"_get_agent_config", "asctime": "2025-01-09 19:53:24,221","service": "common-log", "filename": "flow_invocation.py", "line": "67", "levelname": "INFO", "message": "add_text_vector 的配置信息：{'excute_path': 'embed_function-ChromaUpsertStore', 'converter': [{'name': 'embed_function', 'type': 'instance', 'value': 'OpenAiStyleEmbeddings'}, {'name': 'ChromaUpsertStore', 'type': 'instance', 'value': 'ChromaUpsertStore'}], 'components': [{'name': 'OpenAiStyleEmbeddings', 'param': {'parameter': {'model': 'jina-embeddings-v3', 'api_key': '123', 'base_url': 'http://192.168.11.11:8070', 'max_retry': 2}}}, {'name': 'ChromaUpsertStore', 'param': {'embedding_func': None}}]}"}
{"@timestamp" : "2025-01-09T19:53:24.282050+08:00", "threadName":"AnyIO worker thread", "funcName":"__init__", "asctime": "2025-01-09 19:53:24,281","service": "common-log", "filename": "posthog.py", "line": "22", "levelname": "INFO", "message": "Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information."}
{"@timestamp" : "2025-01-09T19:54:19.935503+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:54:19,933","service": "common-log", "filename": "create_app.py", "line": "35", "levelname": "INFO", "message": "请求头信息:Headers({'user-agent': 'Apifox/1.0.0 (https://apifox.com)', 'content-type': 'application/json', 'accept': '*/*', 'host': '127.0.0.1:8899', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '154'})"}
{"@timestamp" : "2025-01-09T19:54:19.936703+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:54:19,936","service": "common-log", "filename": "create_app.py", "line": "50", "levelname": "INFO", "message": "接收到请求：/simple-ai/run, 开始时间：1736423659.9332201, 请求体：{'appNo': 'embedding', 'data': {'query': '介绍一下潘金莲', 'system_prompt': '你了解所有的中国传统文化。'}}"}
{"@timestamp" : "2025-01-09T19:54:19.941713+08:00", "threadName":"AnyIO worker thread", "funcName":"_get_agent_config", "asctime": "2025-01-09 19:54:19,941","service": "common-log", "filename": "flow_invocation.py", "line": "67", "levelname": "INFO", "message": "embedding 的配置信息：{'excute_path': 'OpenAiStyleEmbeddings', 'converter': None, 'components': [{'name': 'OpenAiStyleEmbeddings', 'param': {'parameter': {'model': 'jina-embeddings-v3', 'api_key': '123', 'base_url': 'http://192.168.11.11:8070', 'max_retry': 2}}}]}"}
{"@timestamp" : "2025-01-09T19:54:20.100984+08:00", "threadName":"AnyIO worker thread", "funcName":"_send_single_request", "asctime": "2025-01-09 19:54:20,100","service": "common-log", "filename": "_client.py", "line": "1026", "levelname": "INFO", "message": "HTTP Request: POST http://192.168.11.11:8070/v1/embeddings "HTTP/1.1 200 OK""}
{"@timestamp" : "2025-01-09T19:54:20.130851+08:00", "threadName":"AnyIO worker thread", "funcName":"success", "asctime": "2025-01-09 19:54:20,124","service": "common-log", "filename": "response.py", "line": "124", "levelname": "INFO", "message": "正常响应信息：[{'object': 'embedding', 'embedding': [-0.039924539625644684, -0.14683039486408234, -0.028908491134643555, 0.06416649371385574, -0.0028273898642510176, -0.06996847689151764, 0.05290719494223595, 0.025523701682686806, -0.13091802597045898, 0.12660962343215942, 0.001865179743617773, 0.22656460106372833, -0.028191320598125458, 0.06689514964818954, -0.0762300193309784, -0.014156696386635303, -0.0135705741122365, 0.09122326970100403, 0.11489076912403107, -0.1022527813911438, -0.020622892305254936, 0.04492228850722313, -0.04977642372250557, 0.023674678057432175, -0.0832957997918129, 0.055319901555776596, 0.014576765708625317, 0.04351487755775452, -0.11454609036445618, -0.05488906428217888, -0.02506324090063572, -0.047492969781160355, -0.023233067244291306, -0.0688195675611496, -0.02395292930305004, -0.004286861512809992, 0.04601375386118889, 0.008573723025619984, -0.11018024384975433, -0.011445991694927216, 0.007718325592577457, 0.01787269487977028, -0.05124128237366676, 0.05985809117555618, 0.05035087838768959, 0.02794717811048031, 0.008516278117895126, 0.03457134962081909, 0.005250866990536451, -0.01840406470000744, -0.02089216746389866, -0.013282449916005135, -0.025871964171528816, 0.05155722796916962, -0.028076428920030594, -0.0344097837805748, -0.06221334636211395, 0.06768143177032471, 0.004595630802214146, -0.028607802465558052, 0.034854985773563385, 0.033260878175497055, 0.010257590562105179, -0.03690865635871887, -0.0118858078494668, 0.049087077379226685, 0.02908172458410263, -0.04753605276346207, 0.05952778086066246, -0.0050049289129674435, -0.023365909233689308, -0.040529511868953705, 0.041030362248420715, 0.0506381057202816, -0.028221840038895607, -0.001651554717682302, 0.06580368429422379, 0.0062566096894443035, -0.003958345856517553, -0.01642937958240509, 0.053969934582710266, 0.05939852446317673, -0.024543538689613342, -0.03957986831665039, 0.016449125483632088, 0.0575602725148201, -0.008975841104984283, -0.005803778767585754, 0.021793343126773834, 0.07240990549325943, 0.07450666278600693, -0.013537364080548286, -0.003008701838552952, 0.02136250212788582, -0.02747325226664543, -0.004089393187314272, -0.04151865094900131, 0.048598792403936386, 0.02380393072962761, 0.029225338250398636, 0.03104204684495926, -0.05488906428217888, -0.005428588483482599, -0.00024234771262854338, 0.035932086408138275, -0.017331451177597046, -0.05310825631022453, -0.08025119453668594, -0.05600925162434578, 0.08611062914133072, 0.07691936939954758, 0.05411354824900627, 0.053395483642816544, -0.054257165640592575, -0.005716713145375252, -0.03393585979938507, 0.005318859126418829, 0.012853403575718403, 0.03398612514138222, 0.03013010323047638, -0.046961598098278046, -0.04451299086213112, -0.09116581827402115, 0.08375536650419235, -0.019567333161830902, -0.04113089293241501, -0.032456640154123306, 0.03209760785102844, -0.001634500571526587, -0.0011363414814695716, -0.027272194623947144, 0.014490596950054169, 0.02702087163925171, -0.008990202099084854, 0.006405160296708345, 0.0010017039021477103, -0.0662345215678215, 0.027983082458376884, -0.004643202759325504, 0.048081785440444946, 0.039938900619745255, 0.05945597216486931, -0.06198356673121452, -0.03346193581819534, 0.051844459027051926, -0.07416199147701263, -0.016364753246307373, 0.01694638840854168, -0.017284102737903595, 0.03716716170310974, 0.024220408871769905, 0.013758169487118721, -0.029896730557084084, -0.015744522213935852, -0.03806474432349205, 0.05155722796916962, -0.019969450309872627, -0.012774416245520115, -0.03854585066437721, -0.002150611486285925, 0.016973314806818962, -0.05055193603038788, 0.03166676685214043, -0.09062009304761887, -0.07341519743204117, 0.015205075033009052, -0.006037150509655476, 0.0076689585112035275, 0.039149027317762375, 0.018238011747598648, 0.022748371586203575, 0.009428223595023155, -0.009699293412268162, 0.030639929696917534, 0.030072657391428947, -0.010566359385848045, -0.027099410071969032, 0.06922168284654617, -0.0027268605772405863, 0.014964522793889046, -0.0438164658844471, 0.015252366662025452, 0.019990993663668633, -0.01729285530745983, 0.03229866549372673, 0.016996651887893677, 0.013341689482331276, 0.018698472529649734, -0.040240488946437836, 0.055291179567575455, -0.0014047190779820085, 0.00016336030967067927, -0.0055297911167144775, -0.029199644923210144, -0.06396543234586716, 0.024414287880063057, -0.040441546589136124, -0.0017951682675629854, -0.030998965725302696, 0.025082090869545937, 0.013829975388944149, -0.00011848110443679616, 0.07531090080738068, 0.026568489149212837, 0.04058516398072243, 0.030532222241163254, 0.0337994284927845, 0.02137686312198639, -0.07829805463552475, -0.06571751832962036, -0.04032665863633156, 0.04788072407245636, 0.003163086250424385, 0.05903949216008186, -0.05914001911878586, -0.0061933305114507675, 0.031020507216453552, -0.009783666580915451, 0.036344975233078, 0.005712225567549467, 0.002967861946672201, -0.004802074749022722, -0.020234238356351852, 0.05787622183561325, -0.018141970038414, -0.037799060344696045, -0.05226811766624451, -0.017016174271702766, -0.013842541724443436, -0.027552243322134018, 0.01910238340497017, 0.03575975075364113, -0.004942995496094227, 0.006727392319589853, 0.034567758440971375, 0.01803785003721714, 0.05652625486254692, 0.017039736732840538, -0.011891193687915802, -0.003048195503652096, 0.03596619516611099, -0.0025293920189142227, 0.027028052136301994, -0.015910575166344643, -0.01914636604487896, -0.015876468271017075, 0.03495551645755768, -0.0025994034949690104, 0.0034392056986689568, 0.009354622103273869, 0.016766872256994247, 0.013765349984169006, 0.03364863246679306, 0.03204016387462616, 0.0002944075968116522, 0.038646381348371506, -0.008546795696020126, -0.011040649376809597, 0.03587464243173599, -0.007674344349652529, 0.0076142060570418835, -0.031436987221241, 0.032686423510313034, 0.02484871819615364, 0.03164522349834442, -0.0025850420352071524, 0.028679605573415756, -0.004523823969066143, -0.017253361642360687, 0.006290269549936056, 0.004408259876072407, 0.005396275315433741, -0.00587827805429697, -0.004602811299264431, 0.015208665281534195, -0.014088255353271961, -0.019258564338088036, 0.043443068861961365, 0.020863445475697517, -0.008552180603146553, 0.005103663075715303, 0.005037242081016302, -0.02052954211831093, 0.02424195036292076, -0.01041377056390047, -0.03037424571812153, -0.0025024644564837217, -0.02052595280110836, -0.027516338974237442, -0.01857101544737816, 0.02801898680627346, 0.027340412139892578, -0.003127407282590866, -0.016023671254515648, -0.01744903437793255, 0.02852163277566433, 0.023078681901097298, 0.00036756068584509194, -0.003583155572414398, -0.07278329879045486, 0.03156623616814613, 0.03147647902369499, 0.03389277681708336, -0.017305420711636543, 0.06198356673121452, -0.049144525080919266, -0.034811899065971375, -0.04446272552013397, -0.021865148097276688, 0.03097742237150669, 0.007686910219490528, -0.0014971703058108687, 0.008580903522670269, -0.009313332848250866, 0.01564130000770092, -0.04957536607980728, -0.0681876689195633, 0.02072342112660408, 0.034294892102479935, 0.0581921711564064, 0.0381365530192852, 0.005482892505824566, 0.006706748623400927, -0.04433347284793854, -0.019998174160718918, -0.014036532491445541, 0.034050751477479935, 0.017531612887978554, 0.0430840365588665, -0.00222600856795907, -0.013698254711925983, -0.006815805099904537, 0.05293591693043709, 0.0070729623548686504, 0.01944885216653347, -0.002614662516862154, -0.05365398898720741, 0.018669748678803444, -0.003751901676878333, -0.02554883249104023, 0.021319417282938957, 0.004091637209057808, 0.017147446051239967, -0.03708817437291145, 0.009449765086174011, 0.029160713776946068, 0.058536842465400696, -0.043170202523469925, 0.0017607234185561538, -0.023215115070343018, 0.015052933245897293, -0.007629240397363901, -0.01708461530506611, 0.02936895191669464, -0.005396275315433741, 0.06327608972787857, 0.05681348592042923, -0.0336773544549942, -0.02089163474738598, -0.01371329091489315, -0.017276698723435402, -0.00015079413424246013, 0.05407046526670456, -0.023466438055038452, -0.050465770065784454, 0.02801898680627346, 0.028205683454871178, -0.010765624232590199, -0.00959696900099516, -0.027071135118603706, 0.03219813480973244, -0.028543172404170036, -0.0024557900615036488, 0.030137281864881516, -0.01143881119787693, -0.04331381991505623, 0.04282553121447563, -0.012025832198560238, -0.006685206200927496, -0.025584736838936806, -0.012786982581019402, -0.023685449734330177, -0.013812023214995861, 0.0035779946483671665, 0.01612779125571251, -0.014447513036429882, 0.07895868271589279, -0.018260451033711433, 0.006985897198319435, 0.013044365681707859, 0.04138939827680588, -0.03857457637786865, 0.0371384397149086, 0.024069614708423615, -0.01514852698892355, -0.027028052136301994, 0.009485668502748013, -0.0419638492166996, 0.007138037588447332, -0.005316615104675293, 0.02583605982363224, -0.000759356131311506, -0.021276332437992096, -0.06296014040708542, 0.031095905229449272, 0.006649303250014782, -0.05836450681090355, 0.005442949943244457, 0.026187913492321968, 0.003393765538930893, 0.0068449764512479305, -0.027516338974237442, 0.007900535129010677, -0.012247535400092602, -0.02031838707625866, -0.02721475064754486, 0.0027784716803580523, 0.024285035207867622, 0.03817245736718178, 0.009893171489238739, 0.02290634624660015, -0.024340685456991196, -0.018043236806988716, -0.01765727438032627, -0.011162355542182922, 0.015553336590528488, -0.00596175342798233, -0.030230633914470673, -0.05138489231467247, 0.006706748623400927, -0.03906286135315895, -0.021129129454493523, -0.04760786145925522, 0.01323757041245699, 0.012637310661375523, 0.051528505980968475, -0.02545497938990593, 0.015122497454285622, 0.006633595563471317, 0.002935099881142378, 0.025706807151436806, 0.006708543282002211, -0.01814555935561657, 0.0056009250693023205, 0.015451909974217415, 0.04449145123362541, 0.019804295152425766, 0.039766568690538406, 0.015298423357307911, -0.03423744812607765, 0.012289721518754959, -0.009360007010400295, -0.02309304289519787, -0.06135166808962822, 0.015933912247419357, -0.028981193900108337, 0.01975403167307377, -0.05066682770848274, 0.03360554948449135, 0.015601806342601776, 0.014479827135801315, 0.023947542533278465, 0.019093409180641174, -0.03064711205661297, 0.02148008532822132, 0.03443850949406624, 0.00649312324821949, 0.009223573841154575, -0.01105105597525835, -0.026528995484113693, -0.02315049059689045, 0.010079870000481606, -0.0357741117477417, -0.01209763903170824, 0.016253452748060226, -0.04443400353193283, 0.03499859943985939, 0.013614555820822716, 0.02674800716340542, -0.02164613828063011, -0.04719138145446777, -0.005449233110994101, 0.030187547206878662, 0.03415128216147423, 0.00022978153720032424, -0.0013508640695363283, -0.019840199500322342, -0.02151329629123211, 0.025692446157336235, 0.04848390072584152, 0.020855816081166267, -0.009053033776581287, -0.00010052941797766834, -0.0037734434008598328, 0.04015431925654411, -0.01439724862575531, -0.006033560261130333, 0.005022880621254444, 0.01899288035929203, -0.018881577998399734, 0.0207377839833498, 0.010593287646770477, -0.045137710869312286, -0.035630498081445694, -0.03023781254887581, -0.016120610758662224, -0.005920464638620615, -0.008378947153687477, 0.0026460778899490833, -0.025879142805933952, -0.010918213054537773, -0.005135078448802233, -0.00518848467618227, -0.0031775599345564842, 0.06844616681337357, 0.026058662682771683, -0.01937345415353775, -0.028176959604024887, -0.0072566308081150055, 0.005417817737907171, 0.02187950909137726, -0.004277885425835848, 0.021157851442694664, -0.032700784504413605, 0.00018411694327369332, 0.02193695493042469, 0.01302304770797491, 0.0020536724478006363, 0.005654779728502035, -0.008353815414011478, 0.01828199252486229, 0.0013014968717470765, -0.0145480427891016, 0.009355518966913223, 0.021046552807092667, 0.013530181720852852, -0.04680362716317177, -0.010152125731110573, 0.005017494782805443, -0.024083975702524185, 0.009306151419878006, 0.013202563859522343, -0.022201742976903915, 0.008293003775179386, 0.02372853457927704, 0.02906736359000206, 0.0020859853830188513, -0.01641501858830452, 0.02460816688835621, 0.037282053381204605, -0.03204016387462616, -0.011115681380033493, -0.005112639162689447, -0.013628916814923286, -0.012096741236746311, -0.009930870495736599, 0.011959410272538662, -0.028607802465558052, 0.02190643735229969, -0.00727761210873723, 0.03742566704750061, -0.0013661229750141501, 0.016266467049717903, 0.011139018461108208, 0.021486368030309677, -0.05082480236887932, -0.004910682328045368, 0.017894236370921135, 0.012031217105686665, 0.03248536214232445, 0.03845968469977379, -0.037267692387104034, 0.039407532662153244, 0.03547252342104912, 0.02608020231127739, -0.027530699968338013, 0.003787804627791047, 0.04960408806800842, 0.008647100999951363, -0.029785430058836937, 0.03041733056306839, -0.008582699112594128, -0.017725490033626556, -0.02099628746509552, 0.038330432027578354, -0.015880057588219643, 0.02796153910458088, -0.01521584577858448, -0.01295572891831398, -0.02565654367208481, -0.01799476519227028, 0.004425089340656996, 0.0013510885182768106, -0.02850727178156376, -0.009973954409360886, 0.008286496624350548, 0.005891742184758186, -0.0444483645260334, 0.041087809950113297, -0.0017269517993554473, -0.0236495453864336, 0.025173643603920937, 0.009768407791852951, -0.021818475797772408, 0.013172046281397343, 0.012352552264928818, 0.025936590507626534, 0.0007880788762122393, 0.007275816518813372, -0.0006911397795192897, -0.05523373559117317, -0.04151865094900131, 0.01179605070501566, -0.026496684178709984, 0.009500030428171158, 0.013269883580505848, 0.03390713781118393, -0.028851943090558052, -0.039163392037153244, 0.015563210472464561, -0.026604391634464264, -0.014013082720339298, 0.05250507965683937, 0.030733279883861542, -0.0257570743560791, -0.01415490172803402, -0.02558114565908909, -0.026744414120912552, -0.05055193603038788, 0.017624961212277412, -0.054515667259693146, 0.04306967556476593, 0.005701454356312752, -0.045841414481401443, 0.02582170069217682, 0.027559421956539154, -0.07117483019828796, -0.01284981332719326, 0.018224548548460007, 0.028751414269208908, -0.010325807146728039, -0.008932756260037422, 0.015035430900752544, 0.032959289848804474, 0.03287312015891075, 0.03667887672781944, 0.005791212432086468, 0.007999269291758537, -0.009630179032683372, -0.030058296397328377, -0.039723481982946396, 0.06778555363416672, 0.014802059158682823, -0.063649483025074, 0.011447787284851074, -0.009958246722817421, -0.019973041489720345, 0.013264497742056847, 0.0007234528311528265, -0.03112821653485298, -0.04872804507613182, -0.00815365370362997, 0.012781597673892975, 0.005633237771689892, -0.03337576612830162, 0.04716265946626663, -0.043974440544843674, -0.041604816913604736, 0.018454328179359436, -0.046975959092378616, -0.010796141810715199, -0.01667352207005024, -0.028952471911907196, 0.007992986589670181, 0.013812023214995861, -0.030316801741719246, -0.026482319459319115, 0.003481728956103325, -0.0016371934907510877, 0.020457737147808075, 0.02368185855448246, 0.020665975287556648, 0.03232739120721817, -0.00012207143299747258, -0.03991017863154411, 0.02057172916829586, 0.03442414477467537, -0.0350416861474514, -0.006053307093679905, -0.005618876311928034, 0.003980785142630339, -0.027861010283231735, 0.011717427521944046, -0.03364863246679306, -0.053438566625118256, 0.013391057029366493, 0.004509462509304285, 0.00983034074306488, 0.023082273080945015, 0.01600571908056736, -0.03732513636350632, -0.03346193581819534, -0.02243780717253685, 0.020105883479118347, 0.03518529608845711, 0.040441546589136124, -0.01297008991241455, 0.00024414286599494517, 0.008132112212479115, 0.02665465697646141, 0.01624986156821251, -0.001843637670390308, 0.03055376186966896, -0.053969934582710266, -0.04661692678928375, 0.010114875622093678, 0.007374550681561232, -0.028650883585214615, -0.017635732889175415, -0.021290695294737816, -0.028392378240823746, 0.044534534215927124, -0.006670844741165638, -0.02139122411608696, -0.010979249142110348, -0.008429212495684624, -0.0006792467320337892, 0.05809164047241211, 0.030474774539470673, -0.015014787204563618, 0.03293056786060333, -0.02794717811048031, -0.01859794184565544, 0.00234987516887486, 0.026281261816620827, -0.03983836993575096, 0.0017444546101614833, -0.029408443719148636, -0.02876577526330948, 0.01805221103131771, 0.024715876206755638, 0.03820117935538292, 0.0033969071228057146, 0.05221785604953766, 0.013327328488230705, -0.009521571919322014, -0.02459380403161049, 0.023222295567393303, 0.013957432471215725, 0.015636812895536423, 0.0057301768101751804, 0.009893171489238739, 0.01941653899848461, 0.01731260120868683, -0.015968918800354004, -0.008790938183665276, -0.006674435455352068, -0.028478547930717468, -0.02257603593170643, -0.01454983837902546, -0.003364145290106535, 0.002882142551243305, -0.01997842639684677, -0.03443850949406624, 0.04038410633802414, -0.009568247012794018, -0.03939317166805267, 0.04618608579039574, -0.024098336696624756, -0.00380396144464612, -0.0002818414068315178, 0.008193147368729115, 0.03235611319541931, -0.005198806989938021, -0.006503893993794918, -0.00016425788635388017, 0.015409724786877632, -0.01997842639684677, -0.005051603075116873, -0.013373554684221745, -0.061839956790208817, 0.0074221231043338776, 0.004552546422928572, -0.0027286557015031576, 0.008420572616159916, 0.002064892090857029, -0.025218524038791656, 0.02553447149693966, -0.013934096321463585, -0.018885169178247452, -0.017865512520074844, -0.01664031110703945, -0.006415931507945061, -0.022532951086759567, -0.021394813433289528, -0.027056774124503136, -0.02992904558777809, 0.005889947060495615, 0.0041809468530118465, -0.021448669955134392, 0.006073951721191406, -0.011234162375330925, 0.017847562208771706, -0.0019257667008787394, -0.008010937832295895, 0.03845968469977379, 0.03685121238231659, 0.01708798110485077, -0.04631533846259117, -0.00800285954028368, -0.021893871948122978, -0.050982777029275894, -0.0012799549149349332, 0.0044035473838448524, 0.004675515927374363, -0.01966068148612976, 0.016979597508907318, -0.027846649289131165, -0.02880886010825634, -0.00565543957054615, -0.006256161257624626, 0.0243317112326622, -0.005757104139775038, -0.0247589610517025, -0.045396216213703156, 0.01777934655547142, -0.008398245088756084, 0.005272408947348595, -0.0005322673823684454, 0.015438445843756199, 0.020034078508615494, -0.015556927770376205, 0.003622649237513542, 0.0007526242407038808, 0.011259295046329498, -0.04954664409160614, -0.04216491058468819, 0.02144329808652401, -0.028693966567516327, -0.006461707875132561, 0.01650836691260338, -0.019861740991473198, -0.01697869971394539, -0.015305603854358196, -0.004683144856244326, -0.015072232112288475, -0.008955196477472782, -0.022389337420463562, -0.004144145641475916, -0.027875371277332306, -0.03653526306152344, -0.005924054887145758, -0.010906544514000416, -0.0023265378549695015, -0.028299031779170036, -0.03507040813565254, -0.0044786641374230385, 0.026848535984754562, 0.010318627581000328, -0.018806181848049164, -0.05118383467197418, -0.002186963800340891, -0.003561613615602255, 0.016688557341694832, 0.006739061325788498, 0.04256702587008476, -0.011913185007870197, 0.0253190528601408, -0.04216491058468819, 0.017958862707018852, 0.003870382672175765, -0.045065902173519135, -0.00046853889944031835, 0.03904849663376808, 0.024022940546274185, 0.02856471575796604, 0.006500303745269775, 0.0022421651519834995, -0.006578393746167421, -0.010167833417654037, 0.014404654502868652, 0.022784274071455002, -0.019368071109056473, 0.02908172458410263, -0.03610442206263542, 0.022640660405158997, 0.008038762956857681, 0.009449765086174011, -0.02199619635939598, 0.023143308237195015, -0.015373820438981056, -0.010106796398758888, -0.019697483628988266, 0.011101320385932922, -0.029139170423150063, -0.036980465054512024, 0.02586478181183338, 0.033562466502189636, -0.022188277915120125, -0.006008428055793047, 0.0054932148195803165, 0.01350325532257557, -0.001159678678959608, 0.014171057380735874, -0.004752258770167828, -0.012268179096281528, -0.010661504231393337, -0.0236387737095356, 0.039938900619745255, 0.018059391528367996, 0.023330004885792732, -0.011383160948753357, 0.028363656252622604, -0.013291425071656704, 0.002269092481583357, 0.022669384256005287, 0.024694332852959633, 0.007936438545584679, -0.002392285969108343, 0.02480204403400421, 0.014530092477798462, 0.021154262125492096, 0.0009824058506637812, -0.033627089112997055, 0.02577861398458481, 0.01912931352853775, -0.0017511866753920913, -0.005572201684117317, -0.0030805086717009544, 0.0049510737881064415, -0.021899256855249405, -0.014598307199776173, -0.006126909051090479, 0.003784214612096548, 0.017420312389731407, 0.0034824018366634846, -0.037770338356494904, 0.060691047459840775, 0.025164667516946793, 0.002976388903334737, -0.009741480462253094, -0.03370607644319534, -0.003594824578613043, 0.000436225876910612, 0.006733227055519819, -0.012099433690309525, 0.022231362760066986, -0.012472828850150108, -0.0031171974260360003, -0.03831607103347778, -0.01758243888616562, -0.0016748920315876603, 0.020867034792900085, -0.0016793798422440886, -0.03555869311094284, 0.019940728321671486, 0.012853403575718403, -0.016698654741048813, -0.055635854601860046, -0.007049625273793936, 0.014768400229513645, 0.008814276196062565, -0.004019830375909805, 0.051327452063560486, 0.007689603138715029, -0.0392351970076561, 0.005435096099972725, 0.00019443915516603738, 0.01398076955229044, 0.0007180672837421298, 0.028679605573415756, -0.003329588333144784, 0.015876468271017075, 0.01162191852927208, 0.003939945250749588, 0.007812571711838245, 0.030137281864881516, -0.011151584796607494, -0.036477819085121155, 0.04248085990548134, -0.01576157659292221, 0.0031918089371174574, 0.014802956953644753, 0.015815431252121925, -0.020235136151313782, -0.007360189687460661, -0.018274812027812004, 0.029246879741549492, 0.0334332138299942, 0.01668272167444229, 0.016006730496883392, -0.010756648145616055, -0.0016766871558502316, 0.03349784016609192, 0.027099860832095146, -0.0006642122170887887, 0.003877563402056694, 0.019879693165421486, 0.015115316957235336, 0.03152315318584442, -0.003071532817557454, 0.00997574906796217, 0.022389337420463562, 0.051772650331258774, 0.006737041752785444, 0.015086593106389046, -0.024888211861252785, -0.022382156923413277, -0.008771191351115704, 0.004502730909734964, 0.0049124774523079395, 0.013639688491821289, 0.04684671014547348, -0.028421103954315186, -0.013061643578112125, 0.013643277809023857, 0.021886689588427544, 0.010715807788074017, 0.0022179302759468555, -0.017373638227581978, -0.022260086610913277, 0.003184628440067172, -0.03262897953391075, 0.003665733616799116], 'index': 0}]"}
{"@timestamp" : "2025-01-09T19:54:20.132889+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:54:20,132","service": "common-log", "filename": "create_app.py", "line": "72", "levelname": "INFO", "message": "请求：/simple-ai/run, 结束时间：1736423660.132561, 耗时：0.1993408203125"}
{"@timestamp" : "2025-01-09T19:54:20.133094+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:54:20,132","service": "common-log", "filename": "create_app.py", "line": "75", "levelname": "INFO", "message": "[(b'content-length', b'21806'), (b'content-type', b'application/json')]"}
{"@timestamp" : "2025-01-09T19:55:19.266335+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:55:19,264","service": "common-log", "filename": "create_app.py", "line": "35", "levelname": "INFO", "message": "请求头信息:Headers({'user-agent': 'Apifox/1.0.0 (https://apifox.com)', 'content-type': 'application/json', 'accept': '*/*', 'host': '127.0.0.1:8899', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '162'})"}
{"@timestamp" : "2025-01-09T19:55:19.267981+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-09 19:55:19,267","service": "common-log", "filename": "create_app.py", "line": "50", "levelname": "INFO", "message": "接收到请求：/simple-ai/run, 开始时间：1736423719.263838, 请求体：{'appNo': 'query_text_vector', 'data': {'query': '介绍一下潘金莲', 'system_prompt': '你了解所有的中国传统文化。'}}"}
{"@timestamp" : "2025-01-09T19:55:19.272362+08:00", "threadName":"AnyIO worker thread", "funcName":"_get_agent_config", "asctime": "2025-01-09 19:55:19,271","service": "common-log", "filename": "flow_invocation.py", "line": "67", "levelname": "INFO", "message": "query_text_vector 的配置信息：{'excute_path': 'embed_function-ChromaRetriverStore', 'converter': [{'name': 'embed_function', 'type': 'instance', 'value': 'OpenAiStyleEmbeddings'}, {'name': 'ChromaRetriverStore', 'type': 'instance', 'value': 'ChromaRetriverStore'}], 'components': [{'name': 'OpenAiStyleEmbeddings', 'param': {'parameter': {'model': 'jina-embeddings-v3', 'api_key': '123', 'base_url': 'http://192.168.11.11:8070', 'max_retry': 2}}}, {'name': 'ChromaRetriverStore', 'param': {'embedding_func': None}}]}"}
