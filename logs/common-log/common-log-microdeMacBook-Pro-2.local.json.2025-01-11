{"@timestamp" : "2025-01-11T17:22:16.179631+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-11 17:22:16,178","service": "common-log", "filename": "create_app.py", "line": "100", "levelname": "INFO", "message": "开始创建服务======="}
{"@timestamp" : "2025-01-11T17:22:16.188053+08:00", "threadName":"MainThread", "funcName":"create_app", "asctime": "2025-01-11 17:22:16,187","service": "common-log", "filename": "create_app.py", "line": "128", "levelname": "INFO", "message": "注册的url列表：[Route(path='/openapi.json', name='openapi', methods=['GET', 'HEAD']), Route(path='/docs', name='swagger_ui_html', methods=['GET', 'HEAD']), Route(path='/docs/oauth2-redirect', name='swagger_ui_redirect', methods=['GET', 'HEAD']), Route(path='/redoc', name='redoc_html', methods=['GET', 'HEAD']), APIRoute(path='/simple-ai/run', name='run_app_with_config', methods=['POST']), APIRoute(path='/simple-ai/test', name='test', methods=['POST'])]"}
{"@timestamp" : "2025-01-11T17:22:16.188136+08:00", "threadName":"MainThread", "funcName":"<module>", "asctime": "2025-01-11 17:22:16,188","service": "common-log", "filename": "main.py", "line": "41", "levelname": "INFO", "message": "开始启动服务======"}
{"@timestamp" : "2025-01-11T17:22:27.266449+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-11 17:22:27,265","service": "common-log", "filename": "create_app.py", "line": "52", "levelname": "INFO", "message": "请求头信息:Headers({'user-agent': 'Apifox/1.0.0 (https://apifox.com)', 'content-type': 'application/json', 'accept': '*/*', 'host': '127.0.0.1:8899', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '160'})"}
{"@timestamp" : "2025-01-11T17:22:27.267591+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-11 17:22:27,267","service": "common-log", "filename": "create_app.py", "line": "57", "levelname": "INFO", "message": "接收到请求：/simple-ai/run, 开始时间：1736587347.265235, 请求体：{'appNo': 'add_text_vector', 'data': {'query': '介绍一下潘金莲', 'system_prompt': '你了解所有的中国传统文化。'}}"}
{"@timestamp" : "2025-01-11T17:22:27.274169+08:00", "threadName":"AnyIO worker thread", "funcName":"_get_agent_config", "asctime": "2025-01-11 17:22:27,273","service": "common-log", "filename": "flow_invocation.py", "line": "67", "levelname": "INFO", "message": "add_text_vector 的配置信息：{'excute_path': 'embed_function-ChromaUpsertStore', 'converter': [{'name': 'embed_function', 'type': 'instance', 'value': 'OpenAiStyleEmbeddings'}, {'name': 'ChromaUpsertStore', 'type': 'instance', 'value': 'ChromaUpsertStore'}], 'components': [{'name': 'OpenAiStyleEmbeddings', 'param': {'parameter': {'model': 'jina-embeddings-v3', 'api_key': '123', 'base_url': 'http://192.168.11.11:8070', 'max_retry': 2}}}, {'name': 'ChromaUpsertStore', 'param': {'embedding_func': None}}]}"}
{"@timestamp" : "2025-01-11T17:22:27.308836+08:00", "threadName":"AnyIO worker thread", "funcName":"__init__", "asctime": "2025-01-11 17:22:27,308","service": "common-log", "filename": "posthog.py", "line": "22", "levelname": "INFO", "message": "Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information."}
{"@timestamp" : "2025-01-11T17:22:30.757769+08:00", "threadName":"AnyIO worker thread", "funcName":"_send_single_request", "asctime": "2025-01-11 17:22:30,757","service": "common-log", "filename": "_client.py", "line": "1026", "levelname": "INFO", "message": "HTTP Request: POST http://192.168.11.11:8070/v1/embeddings "HTTP/1.1 200 OK""}
{"@timestamp" : "2025-01-11T17:22:30.818919+08:00", "threadName":"AnyIO worker thread", "funcName":"success", "asctime": "2025-01-11 17:22:30,818","service": "common-log", "filename": "response.py", "line": "124", "levelname": "INFO", "message": "正常响应信息：default_collection-ecb3d803223240e3b9429873e68404cc"}
{"@timestamp" : "2025-01-11T17:22:30.819719+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-11 17:22:30,819","service": "common-log", "filename": "create_app.py", "line": "79", "levelname": "INFO", "message": "请求：/simple-ai/run, 结束时间：1736587350.819571, 耗时：3.5543360710144043"}
{"@timestamp" : "2025-01-11T17:22:30.820130+08:00", "threadName":"MainThread", "funcName":"dispatch", "asctime": "2025-01-11 17:22:30,819","service": "common-log", "filename": "create_app.py", "line": "82", "levelname": "INFO", "message": "[(b'content-length', b'98'), (b'content-type', b'application/json')]"}
